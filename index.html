<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <script src="scripts/config.js" defer></script>
    <script src="scripts/game.js" defer></script>
    <script src="scripts/app.js" defer></script>
    <title>Tic Tac Toe</title>
</head>
<body>
    <main class="font-roboto h-screen bg-whiteSmoke flex flex-col">

      <!-- header section -->

        <header id="header" class="bg-blueViolet flex flex-col items-center text-white pt-20 pb-16 gap-y-6">
            <h1 class="text-3xl font-bold">Play Tic, Tac, Toe</h1>
            <p class="text-lavender">Built with HTML, TailwindCSS, JavaScript</p>
        </header>

        <!-- players section -->
        <section id = "playersSection" class="bg-whiteSmoke flex flex-col h-1/4 items-center justify-center gap-y-4 mb-4">
          <div class="flex flex-row gap-10 justify-center pt-20 max-w-3xl w-1/2 h-full">

            <!-- player 1 card -->
            <div id="playerOneCard" class="playerTurnCustom min-h-min flex flex-col items-center justify-center 
                                          gap-y-2 bg-lavender w-1/3 rounded-md shadow-md " data-playerid="0">
              <h2  class="min-h-fit font-black">Player 1</h2>
              <p id ="playerOneName" class="min-h-fit text-2xl font-black text-violet-800"></p>
              <p class="min-h-fit text-3xl font-extrabold">O</p>

              <!-- player 1 edit button -->
              <button id="playerOneEdit" class="min-h-fit text-blueViolet text-lg mt-2 hover:bg-plum px-4 rounded-md hover:text-fuchsia-900">Edit</button>
            </div>

            <!-- player 2 card -->
            <div id="playerTwoCard" class="flex flex-col items-center justify-center 
                                            gap-y-2 bg-lavender  w-1/3 rounded-md shadow-md" data-playerid="1">
              <h2 class= "font-black">Player 2</h2>
              <p id ="playerTwoName" class="text-2xl font-black text-violet-800"></p>
              <p class="text-3xl font-extrabold">X</p>

              <!-- player 2 edit button -->
              <button id="playerTwoEdit" class="text-blueViolet text-lg mt-2 hover:bg-plum px-4 rounded-md hover:text-fuchsia-900">Edit</button>
            </div>

          </div>
        </section>

        <!-- game section -->
        <section id = "gameSection" class="bg-whiteSmoke h-2/4 flex flex-col items-center">
          <div>
            <button id ="startNewGame" class="bg-violet-600 text-lavender max-w-fit px-8 py-2 rounded-md mb-10 hover:bg-violet-800 hover:text-fuchsia-300">Start New Game</button>
          </div>

          <!-- by default the tictactoe game board should be hidden until start new game button is clicked -->
          <!-- add in flex to article when clicked on gameboard btn -->
          
          
          <article id="tiles-section" class="flex-col items-center hidden">
            
            <p id = "turn-msg" class="text-center mb-4">It's your turn <span id="active-player-name" class="font-black text-violet-800">PLAYER NAME</span>!</p>
            
            <!-- actual tictactoe tiles -->
            <div id = 'ticTacToeTiles' class="grid grid-col-3 grid-row-3 w-1/4 max-w-xs h-1/2 justify-center gap-2">
              <div data-row = "0" data-col = "0" class="hover:bg-violet-700 rounded-sm w-20 h-20 hover:cursor-pointer col-start-1 row-start-1 bg-thistle font-extrabold text-6xl flex items-center justify-center">O</div>
              <div data-row = "0" data-col = "1" class="hover:bg-violet-700 rounded-sm w-20 h-20 hover:cursor-pointer col-start-2 row-start-1 bg-thistle font-extrabold text-6xl flex items-center justify-center">O</div>
              <div data-row = "0" data-col = "2" class="hover:bg-violet-700 rounded-sm w-20 h-20 hover:cursor-pointer col-start-3 row-start-1 bg-thistle font-extrabold text-6xl flex items-center justify-center">O</div>
              <div data-row = "1" data-col = "0" class="hover:bg-violet-700 rounded-sm w-20 h-20 hover:cursor-pointer col-start-1 row-start-2 bg-thistle font-extrabold text-6xl flex items-center justify-center">O</div>
              <div data-row = "1" data-col = "1" class="hover:bg-violet-700 rounded-sm w-20 h-20 hover:cursor-pointer col-start-2 row-start-2 bg-thistle font-extrabold text-6xl flex items-center justify-center">O</div>
              <div data-row = "1" data-col = "2" class="hover:bg-violet-700 rounded-sm w-20 h-20 hover:cursor-pointer col-start-3 row-start-2 bg-thistle font-extrabold text-6xl flex items-center justify-center">O</div>
              <div data-row = "2" data-col = "0" class="hover:bg-violet-700 rounded-sm w-20 h-20 hover:cursor-pointer col-start-1 row-start-3 bg-thistle font-extrabold text-6xl flex items-center justify-center">O</div>
              <div data-row = "2" data-col = "1" class="hover:bg-violet-700 rounded-sm w-20 h-20 hover:cursor-pointer col-start-2 row-start-3 bg-thistle font-extrabold text-6xl flex items-center justify-center">O</div>
              <div data-row = "2" data-col = "2" class="hover:bg-violet-700 rounded-sm w-20 h-20 hover:cursor-pointer col-start-3 row-start-3 bg-thistle font-extrabold text-6xl flex items-center justify-center">O</div>
            </div>
        </article>

        </section>

        <!-- overlay -->
        <div id = 'endGameOverlay' class="overlay hidden">
            <div class="flex flex-col max-h-1/4 items-center justify-center gap-y-0">
              <div id = 'winningMsgModal'  class="modal gap-y-4">
                <h3> You won, <span id="winner-name" class="font-black text-violet-800">PLAYER NAME</span>!</h3>
                <p>Click restart button below to start a new game!</p>
                <button id ="RestartWin" class="bg-violet-600 text-lavender max-w-fit px-8 py-2 rounded-md mb-10 hover:bg-violet-800 hover:text-fuchsia-300">Restart</button>
              </div>
              <div id = 'tieMsgModal' class="modal gap-y-4">
                <h3> It's a tie!</h3>
                <p>Click restart button below to start a new game!</p>
                <button id ="RestartTie" class="bg-violet-600 text-lavender max-w-fit px-8 py-2 rounded-md mb-10 hover:bg-violet-800 hover:text-fuchsia-300">Restart</button>
              </div>
            </div>
        </div>

        <div id="overlay" class = 'overlay'>

          <!-- form to force input validation  -->
          <form id = 'my-form'>

            <!-- modal section -->
            <div id="modal" class="modal">
              <div id = "inner-modal" class="flex flex-col text-center w-1/2 gap-y-1">
                <h2 class="font-bold text-2xl">Choose your name</h2>

                <!-- input for player names -->
                <label id = "label-player" class= "font-bold" for="addPlayerName">Player 1</label>
                <input type="text" id = "addPlayerName" required class=" focus:border-blueViolet border mx-auto w-full font-bold" >
                <p id = 'config-error'></p>
                <!-- buttons  -->
                <div class="flex flex-row justify-around mt-2"> 
                  <button id="close-button" class="text-blueViolet font-bold  hover:bg-blueViolet hover:text-white p-2 px-5 rounded-md">Cancel</button>
                  <button id="confirm-button" class ="bg-blueViolet text-fuchsia-200 p-2 px-5 rounded-md hover:cursor-pointer hover:bg-violet-800 hover:text-white" type="submit">Confirm</button>
                </div>

              </div>
            </div>

          </form>  

        </div>
        
        

    </main>
</body>
</html>